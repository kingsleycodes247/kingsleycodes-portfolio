{% extends "base.html" %}
{% load static %}

{% block title %}Blog | Kingsley Codes{% endblock %}

{% block content %}
<section class="pt-28 pb-16 bg-gray-50 dark:bg-gray-900 transition-colors duration-500">
  <div class="max-w-6xl mx-auto px-4">
    <h1 class="text-4xl md:text-5xl font-bold text-center mb-8 text-gray-900 dark:text-white animate-fade-in">
      Latest Insights & Engineering Notes
    </h1>

    <div class="grid md:grid-cols-3 gap-8">
      {% for blog in blogs %}
      <div class="bg-white dark:bg-gray-800 rounded-2xl shadow hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300">
        {% if blog.image %}
        <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="rounded-t-2xl w-full h-56 object-cover" />
        {% else %}
        <img src="{% static 'images/default-blog.jpg' %}" alt="Default image" class="rounded-t-2xl w-full h-56 object-cover" />
        {% endif %}

        <div class="p-6">
          <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">{{ blog.title }}</h2>
          <p class="text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3">{{ blog.content|striptags|truncatewords:25 }}</p>
          <a href="{% url 'blog_detail' blog.slug %}"
            class="text-indigo-600 dark:text-indigo-400 font-semibold hover:underline">Read more â†’</a>
        </div>
      </div>
      {% empty %}
      <p class="col-span-3 text-center text-gray-600 dark:text-gray-400">No blog posts yet. Check back soon!</p>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}
